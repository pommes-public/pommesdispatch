
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation and User’s guide &#8212; pommes-dispatch  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model description" href="model.html" />
    <link rel="prev" title="Welcome to pommes-dispatch’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="installation-and-user-s-guide">
<h1><a class="toc-backref" href="#id1">Installation and User’s guide</a><a class="headerlink" href="#installation-and-user-s-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation-and-user-s-guide" id="id1">Installation and User’s guide</a></p>
<ul>
<li><p><a class="reference internal" href="#installation" id="id2">Installation</a></p>
<ul>
<li><p><a class="reference internal" href="#setting-up-the-environment" id="id3">Setting up the environment</a></p></li>
<li><p><a class="reference internal" href="#installing-a-solver" id="id4">Installing a solver</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#using-pommes-dispatch" id="id5">Using pommes-dispatch</a></p>
<ul>
<li><p><a class="reference internal" href="#providing-input-data" id="id6">Providing input data</a></p></li>
<li><p><a class="reference internal" href="#configuring-the-model" id="id7">Configuring the model</a></p></li>
<li><p><a class="reference internal" href="#running-the-model" id="id8">Running the model</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id2">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To set up <code class="docutils literal notranslate"><span class="pre">pommes-dispatch</span></code>, you have to set up a virtual environment
(e.g. using conda) or add the required packages to your python installation.
Additionally, you have to install a solver in order to solve
the mathematical optimization problem.</p>
<div class="section" id="setting-up-the-environment">
<h3><a class="toc-backref" href="#id3">Setting up the environment</a><a class="headerlink" href="#setting-up-the-environment" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pommes-dispatch</span></code> is (to be) hosted on <a class="reference external" href="https://pypi.org/">PyPI</a>.
To install it, please use the following command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pommes</span><span class="o">-</span><span class="n">dispatch</span>
</pre></div>
</div>
<p>For now, you still have to clone the environment and
copy the files locally by typing</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pommes</span><span class="o">-</span><span class="n">public</span><span class="o">/</span><span class="n">pommes</span><span class="o">-</span><span class="n">dispatch</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">After cloning the repository, you have to install the required dependencies.
Make sure you have conda installed as a package manager.
If not, you can download it <a class="reference external" href="https://www.anaconda.com/">here</a>.</div>
<div class="line">Open a command shell and navigate to the folder
where you copied the environment to.</div>
<div class="line">Use the following command to install dependencies</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>Activate your environment by typing</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">pommes_dispatch</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-a-solver">
<h3><a class="toc-backref" href="#id4">Installing a solver</a><a class="headerlink" href="#installing-a-solver" title="Permalink to this headline">¶</a></h3>
<p>In order to solve a <code class="docutils literal notranslate"><span class="pre">pommes-dispatch</span></code> model instance,
you need a solver installed.
Please see
<a class="reference external" href="https://github.com/oemof/oemof-solph#installing-a-solver">oemof.solph’s information on solvers</a>.
As a default, gurobi is used for <code class="docutils literal notranslate"><span class="pre">pommes-dispatch</span></code> models.
It is a commercial solver, but provides academic licenses, though,
if this applies to you. Elsewhise, we recommend to use CBC
as the solver oemof recommends. To test your solver
and oemof.solph installation,
again see information from
<a class="reference external" href="https://github.com/oemof/oemof-solph#installation-test">oemof.solph</a>.</p>
</div>
</div>
<div class="section" id="using-pommes-dispatch">
<span id="using"></span><h2><a class="toc-backref" href="#id5">Using pommes-dispatch</a><a class="headerlink" href="#using-pommes-dispatch" title="Permalink to this headline">¶</a></h2>
<div class="section" id="providing-input-data">
<h3><a class="toc-backref" href="#id6">Providing input data</a><a class="headerlink" href="#providing-input-data" title="Permalink to this headline">¶</a></h3>
<p>We provide input data for simulating the years 2017 and 2030 along with the
code. You can use this to simulate these years.</p>
<p>If you are interested in other years or want to change the power plant park,
feel free to do so by adjusting and running the <code class="docutils literal notranslate"><span class="pre">pommes-data</span></code> data
preparation routine. <code class="docutils literal notranslate"><span class="pre">pommes-data</span></code> can be found
<a class="reference external" href="https://github.com/pommes-public/pommes-data">in this repository</a></p>
</div>
<div class="section" id="configuring-the-model">
<h3><a class="toc-backref" href="#id7">Configuring the model</a><a class="headerlink" href="#configuring-the-model" title="Permalink to this headline">¶</a></h3>
<p>Open the module <code class="docutils literal notranslate"><span class="pre">dispatch_model.py</span></code> from the model package in your python
editor of choice (we recommend <a class="reference external" href="https://www.jetbrains.com/pycharm/">PyCharm</a>).</p>
<p>If you want to use the default configuration and simulate 2017, you can
skip this section and move right to the next one, <a class="reference internal" href="#running"><span class="std std-ref">Running the model</span></a>.</p>
<p>You’ll find dictionaries for controlling the simulation in it.
In the first section, you can change general model settings, e.g. if
you want to use another solver or if you want to run a rolling horizon
model. You can play around with the boolean values, but we recommend to
keep the parameters for storing result files, i.e.
<code class="docutils literal notranslate"><span class="pre">save_production_results</span></code> and <code class="docutils literal notranslate"><span class="pre">save_price_results</span></code> set to True.</p>
<p>Pay attention to the allowed values for the string values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">countries</span></code>: The maximum of countries allowed is the default. You can just
remove if you wish to have a smaller coverage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fuel_cost_pathway</span></code>: allowed values are <em>lower</em>, <em>middle</em> and <em>upper</em> for
a rather low, middle or rather high future fuel costs increase</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emissions_pathway</span></code>: allowed values are <em>BAU</em>, <em>80_percent_linear</em>,
<em>95_percent_linear</em> or <em>100_percent_linear</em>,
describing the emissions reduction path for the German power sector
by a historic trend extrapolation (linear regression), an 80%
reduction path until 2050, a 95% reduction path until 2050
or a 100% reduction path until 2045.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">demand_response_approach</span></code>: allowed values are <em>DLR</em>, <em>DIW</em> and <em>oemof</em>.
These describe different options for demand response modeling implemented in
oemof.solph, see <a class="reference external" href="https://github.com/oemof/oemof-solph/blob/dev/src/oemof/solph/custom/sink_dsm.py">this oemof.solph module</a>
and a <a class="reference external" href="https://github.com/jokochems/DR_modeling_oemof/blob/master/Kochems_Demand_Response_INREC.pdf">comparison from the INREC 2020</a>
for details.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1) Determine model configuration through control parameters</span>

<span class="n">control_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;rolling_horizon&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;aggregate_input&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;countries&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;AT&#39;</span><span class="p">,</span> <span class="s1">&#39;BE&#39;</span><span class="p">,</span> <span class="s1">&#39;CH&#39;</span><span class="p">,</span> <span class="s1">&#39;CZ&#39;</span><span class="p">,</span> <span class="s1">&#39;DE&#39;</span><span class="p">,</span> <span class="s1">&#39;DK1&#39;</span><span class="p">,</span> <span class="s1">&#39;DK2&#39;</span><span class="p">,</span> <span class="s1">&#39;FR&#39;</span><span class="p">,</span> <span class="s1">&#39;NL&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;NO1&#39;</span><span class="p">,</span> <span class="s1">&#39;NO2&#39;</span><span class="p">,</span> <span class="s1">&#39;NO3&#39;</span><span class="p">,</span> <span class="s1">&#39;NO4&#39;</span><span class="p">,</span> <span class="s1">&#39;NO5&#39;</span><span class="p">,</span> <span class="s1">&#39;PL&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;SE1&#39;</span><span class="p">,</span> <span class="s1">&#39;SE2&#39;</span><span class="p">,</span> <span class="s1">&#39;SE3&#39;</span><span class="p">,</span> <span class="s1">&#39;SE4&#39;</span><span class="p">],</span>
    <span class="s2">&quot;solver&quot;</span><span class="p">:</span> <span class="s2">&quot;gurobi&quot;</span><span class="p">,</span>
    <span class="s2">&quot;fuel_cost_pathway&quot;</span><span class="p">:</span> <span class="s2">&quot;middle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;activate_emissions_limit&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;emissions_pathway&quot;</span><span class="p">:</span> <span class="s2">&quot;100_percent_linear&quot;</span><span class="p">,</span>
    <span class="s2">&quot;activate_demand_response&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;demand_response_approach&quot;</span><span class="p">:</span> <span class="s2">&quot;DLR&quot;</span><span class="p">,</span>
    <span class="s2">&quot;demand_response_scenario&quot;</span><span class="p">:</span> <span class="s2">&quot;50&quot;</span><span class="p">,</span>
    <span class="s2">&quot;save_production_results&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;save_price_results&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the next section, you can control the simulation time. Please stick
to the date format (pre-)defined. You have to ensure that the input data
time series match the time frame you want to simulate. As a default, you’ll
find data for 2017 and 2030.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2) Set model optimization time and frequency for simple model runs</span>

<span class="n">time_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;start_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-01 00:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;end_time&quot;</span><span class="p">:</span> <span class="s2">&quot;2017-01-02 23:00:00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;freq&quot;</span><span class="p">:</span> <span class="s2">&quot;60min&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the third section, you specify where your inputs and outputs are stored.
You can use the default values here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 3) Set input and output data paths</span>

<span class="n">input_output_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;path_folder_input&quot;</span><span class="p">:</span> <span class="s2">&quot;../../../inputs/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path_folder_output&quot;</span><span class="p">:</span> <span class="s2">&quot;../../../results/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The last section is only applicable if you want to run a rolling
horizon simulation, see <a class="reference internal" href="model.html#rolling-horizon"><span class="std std-ref">Rolling horizon approach</span></a> for background information
if you are not familiar with the concept.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">time_slice_length_wo_overlap_in_hours</span></code> defines the length of a time slice
excluding the overlap in hours</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">overlap_in_hours</span></code> is the length of the overlap in hours, i.e. the number
of hours that will be dropped and are only introduced to prevent end-time
effects.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># 4) Set rolling horizon parameters (optional)</span>

<span class="n">rolling_horizon_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;time_slice_length_wo_overlap_in_hours&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
    <span class="s2">&quot;overlap_in_hours&quot;</span><span class="p">:</span> <span class="mi">12</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-model">
<span id="running"></span><h3><a class="toc-backref" href="#id8">Running the model</a><a class="headerlink" href="#running-the-model" title="Permalink to this headline">¶</a></h3>
<p>Once you have configured your model, running it is fairly simple.</p>
<p>Just run <code class="docutils literal notranslate"><span class="pre">pommes_dispatch.py</span></code> in your editor. You’ll see some
logging information on the console.</p>
<p>Once the model run is finished, you can find, inspect, analyze and plot your
results in the results folder (or the folder you have specified to store
model results).</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pommes-dispatch</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and User’s guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-pommes-dispatch">Using pommes-dispatch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="model.html">Model description</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to pommes-dispatch’s documentation!</a></li>
      <li>Next: <a href="model.html" title="next chapter">Model description</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, pommes developer group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>